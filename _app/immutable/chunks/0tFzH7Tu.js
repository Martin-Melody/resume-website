var fe=Object.defineProperty;var Y=e=>{throw TypeError(e)};var ue=(e,r,s)=>r in e?fe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var F=(e,r,s)=>ue(e,typeof r!="symbol"?r+"":r,s),C=(e,r,s)=>r.has(e)||Y("Cannot "+s);var a=(e,r,s)=>(C(e,r,"read from private field"),s?s.call(e):r.get(e)),_=(e,r,s)=>r.has(e)?Y("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),$=(e,r,s,t)=>(C(e,r,"write to private field"),t?t.call(e,s):r.set(e,s),s);import{y as j,z as ce,A as D,B as le,C as q,D as z,E as R,F as oe,G as de,H as pe,I as V,J as W,K as X,M as he,N as _e,O as ve,P as be,Q as G,R as we,S as Pe,b as k,T as Se,U as N,V as ge,n as xe,W as H,o as ye,X as me,l as ee,Y as Oe,g as x,Z as I,_ as Ee,$ as re,a0 as Re,a1 as L,a2 as Ae,f as Te,a3 as De,a4 as Ie,a5 as Me,a6 as Ne,a7 as Le,a8 as Z,a9 as J,aa as g,L as se,ab as Be,ac as Ke}from"./BN-Jn-Nq.js";import{l as Ue}from"./DIeogL5L.js";var d,p,o,v,y,m,A;class te{constructor(r,s=!0){F(this,"anchor");_(this,d,new Map);_(this,p,new Map);_(this,o,new Map);_(this,v,new Set);_(this,y,!0);_(this,m,()=>{var r=j;if(a(this,d).has(r)){var s=a(this,d).get(r),t=a(this,p).get(s);if(t)ce(t),a(this,v).delete(s);else{var n=a(this,o).get(s);n&&(a(this,p).set(s,n.effect),a(this,o).delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[i,u]of a(this,d)){if(a(this,d).delete(i),i===r)break;const f=a(this,o).get(u);f&&(D(f.effect),a(this,o).delete(u))}for(const[i,u]of a(this,p)){if(i===s||a(this,v).has(i))continue;const f=()=>{if(Array.from(a(this,d).values()).includes(i)){var h=document.createDocumentFragment();de(u,h),h.append(q()),a(this,o).set(i,{effect:u,fragment:h})}else D(u);a(this,v).delete(i),a(this,p).delete(i)};a(this,y)||!t?(a(this,v).add(i),le(u,f,!1)):f()}}});_(this,A,r=>{a(this,d).delete(r);const s=Array.from(a(this,d).values());for(const[t,n]of a(this,o))s.includes(t)||(D(n.effect),a(this,o).delete(t))});this.anchor=r,$(this,y,s)}ensure(r,s){var t=j,n=pe();if(s&&!a(this,p).has(r)&&!a(this,o).has(r))if(n){var i=document.createDocumentFragment(),u=q();i.append(u),a(this,o).set(r,{effect:z(()=>s(u)),fragment:i})}else a(this,p).set(r,z(()=>s(this.anchor)));if(a(this,d).set(t,r),n){for(const[f,c]of a(this,p))f===r?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of a(this,o))f===r?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(a(this,m)),t.ondiscard(a(this,A))}else R&&(this.anchor=oe),a(this,m).call(this)}}d=new WeakMap,p=new WeakMap,o=new WeakMap,v=new WeakMap,y=new WeakMap,m=new WeakMap,A=new WeakMap;function He(e,r,s=!1){R&&W();var t=new te(e),n=s?X:0;function i(u,f){if(R){const h=he(e)===_e;if(u===h){var c=ve();be(c),t.anchor=c,G(!1),t.ensure(u,f),G(!0);return}}t.ensure(u,f)}V(()=>{var u=!1;r((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function Ze(e,r,s){R&&W();var t=new te(e);V(()=>{var n=r()??null;t.ensure(n,n&&(i=>s(i,n)))},X)}function Q(e,r){return e===r||(e==null?void 0:e[N])===r}function Je(e={},r,s,t){return we(()=>{var n,i;return Pe(()=>{n=i,i=[],k(()=>{e!==s(...i)&&(r(e,...i),n&&Q(s(...n),e)&&r(null,...n))})}),()=>{Se(()=>{i&&Q(s(...i),e)&&r(null,...i)})}}),e}let E=!1,M=Symbol();function Qe(e,r,s){const t=s[r]??(s[r]={store:null,source:ye(void 0),unsubscribe:H});if(t.store!==e&&!(M in s))if(t.unsubscribe(),t.store=e??null,e==null)t.source.v=void 0,t.unsubscribe=H;else{var n=!0;t.unsubscribe=me(e,i=>{n?t.source.v=i:ee(t.source,i)}),n=!1}return e&&M in s?Oe(e):x(t.source)}function Ve(){const e={};function r(){ge(()=>{for(var s in e)e[s].unsubscribe();xe(e,M,{enumerable:!1,value:!0})})}return[e,r]}function Ye(e){var r=E;try{return E=!1,[e(),E]}finally{E=r}}const Fe={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function We(e,r,s){return new Proxy({props:e,exclude:r},Fe)}const Ce={get(e,r){if(!e.exclude.includes(r))return x(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,s){if(!(r in e.special)){var t=L;try{J(e.parent_effect),e.special[r]=je({get[r](){return e.props[r]}},r,re)}finally{J(t)}}return e.special[r](s),Z(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),Z(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Xe(e,r){return new Proxy({props:e,exclude:r,special:{},version:Ie(0),parent_effect:L},Ce)}const $e={get(e,r){let s=e.props.length;for(;s--;){let t=e.props[s];if(g(t)&&(t=t()),typeof t=="object"&&t!==null&&r in t)return t[r]}},set(e,r,s){let t=e.props.length;for(;t--;){let n=e.props[t];g(n)&&(n=n());const i=I(n,r);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(e,r){let s=e.props.length;for(;s--;){let t=e.props[s];if(g(t)&&(t=t()),typeof t=="object"&&t!==null&&r in t){const n=I(t,r);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,r){if(r===N||r===se)return!1;for(let s of e.props)if(g(s)&&(s=s()),s!=null&&r in s)return!0;return!1},ownKeys(e){const r=[];for(let s of e.props)if(g(s)&&(s=s()),!!s){for(const t in s)r.includes(t)||r.push(t);for(const t of Object.getOwnPropertySymbols(s))r.includes(t)||r.push(t)}return r}};function ke(...e){return new Proxy({props:e},$e)}function je(e,r,s,t){var K;var n=!Ue||(s&Ne)!==0,i=(s&Me)!==0,u=(s&Be)!==0,f=t,c=!0,h=()=>(c&&(c=!1,f=u?k(t):t),f),w;if(i){var ne=N in e||se in e;w=((K=I(e,r))==null?void 0:K.set)??(ne&&r in e?l=>e[r]=l:void 0)}var P,B=!1;i?[P,B]=Ye(()=>e[r]):P=e[r],P===void 0&&t!==void 0&&(P=h(),w&&(n&&Ee(),w(P)));var b;if(n?b=()=>{var l=e[r];return l===void 0?h():(c=!0,l)}:b=()=>{var l=e[r];return l!==void 0&&(f=void 0),l===void 0?f:l},n&&(s&re)===0)return b;if(w){var ie=e.$$legacy;return(function(l,O){return arguments.length>0?((!n||!O||ie||B)&&w(O?b():l),l):b()})}var T=!1,S=((s&Le)!==0?Te:De)(()=>(T=!1,b()));i&&x(S);var ae=L;return(function(l,O){if(arguments.length>0){const U=O?x(S):n&&i?Re(l):l;return ee(S,U),T=!0,f!==void 0&&(f=U),l}return Ke&&T||(ae.f&Ae)!==0?S.v:x(S)})}export{te as B,Ve as a,Je as b,Ze as c,Qe as d,He as i,Xe as l,je as p,We as r,ke as s};
